<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Menu Profissional</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="content-menu">
    <ion-list lines="none">
      <ion-item button detail="false" class="menu-item selected">
        <ion-icon slot="start" name="grid-outline"></ion-icon>
        <ion-label>Dashboard</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item">
        <ion-icon slot="start" name="people-outline"></ion-icon>
        <ion-label>Pacientes</ion-label>
      </ion-item>

      <ion-item routerLink="/meet-professional" button detail="false" class="menu-item">
        <ion-icon slot="start" name="videocam-outline"></ion-icon>
        <ion-label>Meet</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item" routerLink="/gestaoprontuarios">
        <ion-icon slot="start" name="briefcase-outline"></ion-icon>
        <ion-label>Gestão de Prontuários</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item">
        <ion-icon slot="start" name="time-outline"></ion-icon>
        <ion-label>Histórico</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item">
        <ion-icon slot="start" name="calendar-outline"></ion-icon>
        <ion-label>Agenda</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item">
        <ion-icon slot="start" name="chatbubbles-outline"></ion-icon>
        <ion-label>Mensagens</ion-label>
      </ion-item>

      <ion-item button detail="false" class="menu-item">
        <ion-icon slot="start" name="settings-outline"></ion-icon>
        <ion-label>Ajustes</ion-label>
      </ion-item>

      <ion-item
        button
        detail="false"
        class="menu-item logout-item"
        routerLink="/"
      >
        <ion-icon slot="start" name="log-out-outline"></ion-icon>
        <ion-label color="danger" routerLink="/">Sair da Conta</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-header class="ion-no-border">
    <ion-toolbar color="white">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Dashboard</ion-title>
      <ion-buttons slot="end">
        <ion-avatar class="header-avatar">
          <img
            src="https://randomuser.me/api/portraits/men/32.jpg"
            alt="Profissional"
          />
        </ion-avatar>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content class="bg-gray">
    <div class="dashboard-container">
      <ion-card class="welcome-card ion-no-margin">
        <ion-card-content>
          <div class="welcome-flex">
            <div class="welcome-text">
              <h1>Bem-Vindo</h1>
              <h2>
                A sua área de trabalho
                <span class="highlight">Psic. Felipe</span>
              </h2>
              <p>
                Gerencie suas tarefas, suas consultas e outras opções dentro do
                Therapy.
              </p>
            </div>
            <div class="welcome-img">
              <img
                src="../../assets/icon/favicon.png"
                alt="Dashboard Ilustração"
                style="opacity: 0.5"
              />
            </div>
          </div>
        </ion-card-content>
      </ion-card>

      <ion-grid class="ion-no-padding ion-margin-top">
        <ion-row>
          <ion-col size="12" size-lg="4">
            <ion-card class="widget-card">
              <ion-card-header>
                <ion-card-title>Atividade de Progresso</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                <div class="donut-chart-wrapper">
                  <div class="donut-chart">
                    <div class="center-text">70%</div>
                  </div>
                </div>
                <div class="legend">
                  <div class="legend-item">
                    <span class="dot purple"></span> Pacientes Regulares 25%
                  </div>
                  <div class="legend-item">
                    <span class="dot blue"></span> Pacientes Plantão 45%
                  </div>
                </div>
              </ion-card-content>
            </ion-card>

            <div class="actions-section">
              <div class="action-card">
                <div class="icon-box">
                  <ion-icon name="document-text" color="primary"></ion-icon>
                </div>
                <div class="text-box">
                  <h4>Anotações</h4>
                  <p>Anote e visualize</p>
                </div>
              </div>

              <div class="action-card">
                <div class="icon-box">
                  <ion-icon name="folder-open" color="secondary"></ion-icon>
                </div>
                <div class="text-box">
                  <h4>Arquivos</h4>
                  <p>Guarde seus arquivos</p>
                </div>
              </div>

              <div class="action-card">
                <div class="icon-box">
                  <ion-icon name="close-circle" color="danger"></ion-icon>
                </div>
                <div class="text-box">
                  <h4>Cancelados</h4>
                  <p>Pacientes que cancelaram</p>
                </div>
              </div>
            </div>
          </ion-col>

          <ion-col size="12" size-lg="8">
            <ion-card class="widget-card">
              <ion-card-header>
                <ion-card-title class="ion-text-center highlight-title"
                  >MAIO 2025</ion-card-title
                >
              </ion-card-header>
              <ion-card-content>
                <div class="calendar-grid">
                  <div class="weekday">DOM</div>
                  <div class="weekday">SEG</div>
                  <div class="weekday">TER</div>
                  <div class="weekday">QUA</div>
                  <div class="weekday">QUI</div>
                  <div class="weekday">SEX</div>
                  <div class="weekday">SÁB</div>

                  <div class="day empty"></div>
                  <div class="day empty"></div>
                  <div class="day empty"></div>
                  <div class="day empty"></div>
                  <div
                    class="day"
                    *ngFor="let day of calendarDays"
                    [class.active]="day === currentDay"
                  >
                    {{ day }}
                  </div>
                </div>
              </ion-card-content>
            </ion-card>

            <ion-card class="widget-card">
              <ion-card-header>
                <ion-card-title>Lista de Pacientes</ion-card-title>
              </ion-card-header>
              <ion-card-content class="table-responsive">
                <table class="custom-table">
                  <thead>
                    <tr>
                      <th>Usuário</th>
                      <th>Nome</th>
                      <th>Gênero</th>
                      <th>Opções</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let p of patients">
                      <td>{{ p.user }}</td>
                      <td>{{ p.name }}</td>
                      <td>{{ p.gender }}</td>
                      <td class="options-cell">
                        <ion-icon name="eye" class="action-icon"></ion-icon>
                        <ion-icon
                          name="download"
                          class="action-icon"
                        ></ion-icon>
                        <ion-icon name="create" class="action-icon"></ion-icon>
                      </td>
                      <td>
                        <span
                          class="status-badge"
                          [class.active]="p.active"
                          [class.inactive]="!p.active"
                        >
                          {{ p.active ? 'Ativo' : 'Inativo' }}
                        </span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </ion-content>
</div>
